<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Investment Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>
  <div class="navbar">
    <a onclick="showPage('home')">Home</a>
    <a onclick="showPage('holdings')">Holdings</a>
    <a onclick="showPage('transactions')">Transactions</a>
  </div>

  <div id="home" class="page dashboard" style="display: flex;">
    <div class="column-left">
      <div class="settlement-account-box">
        <div class="header">Settlement Account</div>
        <div id="cash-in-hand" class="cash-amount">$5,000</div>
        <div class="settlement-btn-container">
          <button class="settlement-btn" onclick="addCash()">Add Cash</button>
          <button class="settlement-btn" onclick="removeCash()">Remove Cash</button>
        </div>
      </div>
      
      <div class="header">Cashflow</div>
      <div id="settlement-cash" class="cash-amount">$10,500</div>
      
      <div class="header">
        Bonds & Investments
        <span class="btn btn-small" onclick="addStaticInvestment()">+</span>
      </div>
      <ul id="investments-list">
        <li>Bond 1: $5000 <span class="delete-btn">×</span></li>
        <li>Bond 2: $3000 <span class="delete-btn">×</span></li>
        <li>Investment 1: $2000 <span class="delete-btn">×</span></li>
      </ul>
    </div>

    <div class="column-right">
      <div class="header">Net Worth Over Time</div>
      <div class="graph-container" id="netWorthChart"></div>
      
      <div class="header">Stock Holdings Distribution</div>
      <div id="stocksPieChart"></div>
    </div>
  </div>

  <div id="holdings" class="page dashboard">
    <div class="column-left">
      <div class="header">Stock Holdings</div>
      <table id="holdingsTable">
        <thead>
          <tr>
            <th>Ticker</th>
            <th>Quantity</th>
            <th>Current Price</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="column-right">
      <div class="header">Live Stock Prices</div>
      <div class="live-prices" id="livePrices"></div>
      
      <div class="btn-container">
        <button class="btn" id="addStockBtn">Buy Stock</button>
        <button class="btn" id="removeStockBtn">Sell Stock</button>
      </div>
    </div>
  </div>

  <div id="transactions" class="page">
    <div class="transactions-container">
      <div class="header">Transaction History</div>
      <table id="transactionTable">
        <thead>
          <tr>
            <th>Ticker ID</th>
            <th>Ticker</th>
            <th>Quantity</th>
            <th>Timestamp</th>
            <th>Buying Price</th>
            <th>Total Price</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <div id="overlay" class="overlay"></div>
  <div id="popup" class="popup">
    <h2 id="popupTitle">Buy/Sell Stock</h2>
    <form>
      <label for="stockSelect">Select Stock</label>
      <select id="stockSelect">
        <option value="C">C</option>
        <option value="AMZN">AMZN</option>
        <option value="TSLA">TSLA</option>
        <option value="FB">FB</option>
        <option value="AAPL">AAPL</option>
      </select>
      <label for="stockQuantity">Quantity</label>
      <input type="number" id="stockQuantity" min="1">
      <button type="button" id="confirmStockAction">Confirm</button>
      <button type="button" id="closePopupBtn">Close</button>
    </form>
  </div>

  <div id="stockDetailsOverlay" class="overlay"></div>
  <div id="stockDetailsPopup" class="popup stock-details-popup">
    <h2 id="stockDetailsTitle"></h2>
    <div class="stock-metrics">
      <div>Open: <span id="stockOpen" class="open-price"></span></div>
      <div>Close: <span id="stockClose" class="close-price"></span></div>
      <div>High: <span id="stockHigh" class="high-price"></span></div>
      <div>Low: <span id="stockLow" class="low-price"></span></div>
    </div>
    <div class="stock-chart" id="stockPriceChart"></div>
    <button id="closeStockDetailsBtn">Close</button>
  </div>

  <script src="script.js"></script>
</body>
</html>